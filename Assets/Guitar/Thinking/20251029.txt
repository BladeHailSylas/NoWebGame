할거

1. Stats를 Entity에 잇기(공격력이 실제 반영되어야 한다, 원시 Enemy로 테스트)

2. Area Mechanism을 만들기(여기서 은근히 시간 쓸 수도 있음, 버그의 우려)

3. Laser Mechanism을 만들기(기본적으로 관통형)

4. Melee와 Projectile을 refactor(이건 좀 쉬울 것, 기존 코드 reference를 가지고 AI에게 맡기면 됨)

5. Dash를 refactor(아마 여기가 재앙일지도, 내 손으로 구현해야 할지도 모름)

6. Teleport를 만들기(경로를 따와서 공격하는 부분은 Laser Mechanism의 응용편)

7. Summon을 만들기(Prefab)

8. 이제 캐릭터 1개를 완성할 수 있음, 캐릭터 만들고 원하는 대로 작동하는지 테스트

9. Effects를 Stats에 잇기(이러면 Effects - Stats - Entity의 구조라 좋다)

10. 다른 Mechanism을 만들면서 캐릭터를 양산한다


Speed 잇기: 성공, 이게 가능하다면 나머지는 reference로 가져오면 되기 때문에 문제가 없다

다만 기술 피해량을 (1.0 공격력), (0.55 공격력), (2.2 공격력) + 잃은 체력의 10% 처럼 계수를 두고 싶은데 이게 참 오묘하다
어쩌면 Skill Mechanism이 DamageData를 parameter로 가지고 IVulnerable.TakeDamage(DamageData data)를 호출해야 할 수도 있겠다
그렇다면 Params는 공격력 배율(100%, 85%, 220% 등)을 가져야 하고, AttackController에서는 거기에 공격력 수치를 곱해 DamageData를 완성한다
DamageData에는 피해량(Value)뿐만 아니라 피해량 타입(DamageType: Normal, Fixed, MaxPercent, CurrentPercent, LostPercent)과 방어 관통(APRatio), 피해량 배율(Amplitude)도 있다
즉 이 DamageData를 완성하는 건 AttackController 또는 상위 모듈이 되어야 한다

위에서 언급한 (2.2 공격력) + 잃은 체력의 10% 같은 복합 피해의 경우에는 좋은 방법이 있는 듯
새로운 Mechanism인 DamageMechanism을 만드는 거다
이건 대상에게 피해를 주는 단순한 메커니즘으로, 이걸 OnHit FollowUp에 붙인다
Mechanism 자체가 잃은 체력의 10% 피해를 주고, Damage가 2.2 공격력 피해를 또 주는 방식
FollowUp이 이런 식으로 피해를 주려면 아마 공격력 값만 줘야 할 수도 있을 것 같다
FollowUp을 Mechanism이 호출하는데 AttackController가 값을 결정해서 주면 FollowUp은 좀 어려워짐


DamageMechanism이 생성됐다

이 DamageMechanism은 말 그대로 Damage를 주는 것이다
DamageValue, DamageType, BaseAP, BaseAmplitude를 설정 가능하다
DamageType이 Percent 계열이라면 DamageValue가 그 수치(예: LostPercent에 Value = 10이라면 잃은 체력의 10%)
아니면 DamageValue는 그 계수(예: Normal에 Value = 100이라면 공격력의 100%, 즉 1.0 공격력)
하지만 DamageData는 여전히 넘긴다, 스테이터스로 얻는 피해 증감과 방어 관통을 고려해야 하기 때문이다
다만 이제 DamageData에 Type은 붙일 필요가 없고, 계수는 모든 DamageMechanism에서 따로따로 붙일 수 있어 좋다