중첩 관리?

중첩을 쌓는 건 좋은데 관리 방법을 생각하자
중첩은 보통 두 가지 방법으로 관리한다
첫 번째는 중첩이 쌓일 때마다 모든 중첩의 지속시간을 갱신하는 것이다
이건 구현이 아주 쉽고 관리도 편하다
내가 기억하기로 많은 게임이 이 방법으로 중첩을 관리한다

두 번째는 중첩을 개별적으로 저장하고 지속시간을 계산한다
이 방법은 더 엄밀한 시스템이 맞다
첫 번째 시스템이 엄밀하지 않은 예를 들어보자
어떤 중첩이 3초 뒤에 사라지게 되어있다
그런데 그 중첩을 쌓는 행동의 쿨타임이 3초가 안 되면 중첩이 계속 쌓이기만 한다
그런데 두 번째 방법은 따로 계산되니 그게 절대 불가하다
문제는 구현도 활용도 관리도 조금 복잡한 편

첫 번째 방법을 쓸 때는 아마 지속 피해가 문제를 호소할 것 같다
예를 들어 1초에 걸쳐 총 100의 피해를 주는 지속 피해가 있다
A는 B에게 일단 이 지속 피해를 걸고, 그로부터 0.5초 후 똑같은 지속 피해를 또 건다
같은 타입의 중첩이기 때문에 중첩 수와 지속시간이 갱신되는데 여기서 문제가 발생한다
B는 0.5초 동안 이미 총 50의 피해를 입었다
그런데 새로운 지속 피해가 적용되면서 이제 1초에 총 200 피해를 입을 위기에 빠진 거다
그럼 총 250딜이 아닌가? 50딜은 갑자기 복사가 되었다

아마 이 경우는 지속 피해의 피해량을 중첩의 수로 관리하여 해결할 수 있을 것 같다
이러면 어떤 점이 좋은가?
1초에 걸쳐 적용되는 100중첩의 지속 피해가 걸렸다
0.5초 후에는 50 피해를 받고 50중첩이 사라졌을 것이다
하지만 이때 똑같은 지속 피해가 또 걸리면?
그때는 중첩 수가 추가되므로 150중첩, 지속시간은 1초로 갱신된다
이로써 총 200의 피해를 달성할 수 있는 것이다

하지만 지속 피해의 지속시간이 1초가 아니라면?
모든 지속 피해를 1초로 고정할 수도 있지만 그건 너무 특수성을 띤다
지속 피해의 중첩에는 지속시간을 재어야 하나?
서로 다른 지속 피해가 적용될 경우에는?